<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Sale Agreement Report Action -->
    <record id="action_report_sale_agreement" model="ir.actions.report">
        <field name="name">Sale Agreement</field>
        <field name="model">project.project</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">follow_up.report_sale_agreement_document</field>
        <field name="report_file">follow_up.report_sale_agreement_document</field>
        <field name="binding_model_id" ref="project.model_project_project"/>
        <field name="binding_type">report</field>
        <field name="paperformat_id" ref="base.paperformat_us"/>
    </record>

    <!-- Sale Agreement Template -->
    <template id="report_sale_agreement_document">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page" style="font-family: Arial, sans-serif; font-size: 11pt; line-height: 1.6;">
                        
                        <!-- Agreement Header -->
                        <div class="text-center" style="margin-bottom: 25px; border-bottom: 3px solid #000; padding-bottom: 10px;">
                            <h2 style="margin: 0; font-size: 18pt; font-weight: bold;">AGREEMENT FOR SALE</h2>
                            <p style="margin: 5px 0; font-size: 10pt;">Real Estate Property Transaction</p>
                        </div>

                        <!-- Agreement Date and Parties -->
                        <div style="margin-bottom: 20px;">
                            <p style="text-align: justify;">
                                This Agreement for Sale ("Agreement") is made and entered into on 
                                <strong><span t-field="o.agreement_date" t-options='{"widget": "date", "format": "dd/MM/yyyy"}'/></strong>
                                at <strong><span t-field="o.company_id.city"/></strong>.
                            </p>
                        </div>

                        <!-- Parties Section -->
                        <div style="margin-bottom: 20px;">
                            <p style="text-align: justify; margin-bottom: 10px;"><strong>BETWEEN:</strong></p>
                            
                            <p style="text-align: justify; margin-left: 20px;">
                                <strong><span t-field="o.company_id.name"/></strong>, a company registered under the applicable laws, 
                                having its registered office at <span t-field="o.company_id.street"/>, 
                                <span t-field="o.company_id.city"/>, <span t-field="o.company_id.state_id.name"/>, 
                                <span t-field="o.company_id.zip"/>, 
                                represented by its authorized signatory (hereinafter referred to as the <strong>"SELLER"</strong>, 
                                which expression shall, unless repugnant to the context or meaning thereof, include its successors and assigns) 
                                of the FIRST PART.
                            </p>

                            <p style="text-align: center; margin: 15px 0;"><strong>AND</strong></p>

                            <p style="text-align: justify; margin-left: 20px;">
                                <strong><span t-field="o.partner_id.name"/></strong>, 
                                <t t-if="o.partner_id.street">residing at <span t-field="o.partner_id.street"/>, 
                                <span t-field="o.partner_id.city"/>, <span t-field="o.partner_id.state_id.name"/>, 
                                <span t-field="o.partner_id.zip"/></t>
                                (hereinafter referred to as the <strong>"PURCHASER"</strong>, which expression shall, 
                                unless repugnant to the context or meaning thereof, include their heirs, executors, 
                                administrators, and assigns) of the SECOND PART.
                            </p>

                            <p style="margin-top: 10px;">The SELLER and PURCHASER are hereinafter collectively referred to as the <strong>"Parties"</strong>.</p>
                        </div>

                        <!-- Property Details -->
                        <div style="margin-bottom: 20px;">
                            <p style="margin-bottom: 10px;"><strong>WHEREAS:</strong></p>
                            <ol style="text-align: justify; padding-left: 20px;">
                                <li style="margin-bottom: 10px;">
                                    The SELLER is the lawful owner and developer of the project known as 
                                    <strong>"<span t-field="o.project_name"/>"</strong> 
                                    (hereinafter referred to as the "Project") and has absolute right, title, and interest 
                                    to sell, transfer, and convey the said property.
                                </li>
                                <li style="margin-bottom: 10px;">
                                    The PURCHASER has agreed to purchase and the SELLER has agreed to sell the residential/commercial unit 
                                    <t t-if="o.name">bearing Unit No. <strong><span t-field="o.name"/></strong></t> 
                                    in the said Project on the terms and conditions hereinafter appearing.
                                </li>
                                <li style="margin-bottom: 10px;">
                                    The Parties have mutually agreed to enter into this Agreement to record the terms and conditions 
                                    of the sale and purchase of the said property.
                                </li>
                            </ol>
                        </div>

                        <!-- Terms and Conditions -->
                        <div style="margin-bottom: 20px;">
                            <p style="margin-bottom: 10px;"><strong>NOW THIS AGREEMENT WITNESSETH AS FOLLOWS:</strong></p>
                            
                            <p style="margin-bottom: 10px;"><strong>1. SALE CONSIDERATION</strong></p>
                            <p style="text-align: justify; margin-left: 20px; margin-bottom: 15px;">
                                The total sale consideration for the said unit is Rs. 
                                <strong><span t-field="o.total_sale_order_value" t-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/></strong> 
                                (Rupees <t t-esc="o.total_sale_order_value"/> Only), which shall be paid by the PURCHASER to the SELLER 
                                in the manner specified in the payment schedule attached hereto.
                            </p>

                            <p style="margin-bottom: 10px;"><strong>2. BOOKING AMOUNT</strong></p>
                            <p style="text-align: justify; margin-left: 20px; margin-bottom: 15px;">
                                The PURCHASER has paid a booking amount of Rs. 
                                <strong><span t-field="o.booking_amount" t-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/></strong> 
                                on <strong><span t-field="o.booking_date" t-options='{"widget": "date", "format": "dd/MM/yyyy"}'/></strong> 
                                vide Booking ID: <strong><span t-field="o.booking_id"/></strong>, 
                                which shall form part of the total sale consideration.
                            </p>

                            <p style="margin-bottom: 10px;"><strong>3. PAYMENT TERMS</strong></p>
                            <p style="text-align: justify; margin-left: 20px; margin-bottom: 15px;">
                                The balance consideration shall be paid as per the payment schedule. 
                                <t t-if="o.funding_type == 'loan'">
                                    The PURCHASER intends to avail a housing loan for the purchase of the said unit.
                                </t>
                                <t t-if="o.funding_type == 'self'">
                                    The PURCHASER shall make the payment through self-funding.
                                </t>
                                Amount paid till date: Rs. <strong><span t-field="o.total_paid_amount" t-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/></strong>.
                                Outstanding balance: Rs. <strong><span t-field="o.pending_amount" t-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/></strong>.
                            </p>

                            <p style="margin-bottom: 10px;"><strong>4. POSSESSION</strong></p>
                            <p style="text-align: justify; margin-left: 20px; margin-bottom: 15px;">
                                The SELLER shall hand over possession of the said unit to the PURCHASER upon receipt of full payment 
                                and completion of all formalities as per the terms of this Agreement.
                            </p>

                            <p style="margin-bottom: 10px;"><strong>5. REGISTRATION</strong></p>
                            <p style="text-align: justify; margin-left: 20px; margin-bottom: 15px;">
                                The SELLER shall execute the Sale Deed in favor of the PURCHASER for registration within a reasonable 
                                time after receipt of the entire sale consideration. All stamp duty, registration charges, and other 
                                statutory charges shall be borne by the PURCHASER.
                                <t t-if="o.registration_number">
                                    Registration Number: <strong><span t-field="o.registration_number"/></strong>.
                                </t>
                            </p>
                        </div>

                        <!-- Declaration -->
                        <div style="margin-bottom: 30px;">
                            <p style="text-align: justify;">
                                IN WITNESS WHEREOF, the Parties have executed this Agreement for Sale on the day, month, and year 
                                first above written in the presence of the following witnesses.
                            </p>
                        </div>

                        <!-- Signatures -->
                        <div style="margin-top: 50px;">
                            <table style="width: 100%;">
                                <tr>
                                    <td style="width: 50%; vertical-align: top;">
                                        <p><strong>SELLER</strong></p>
                                        <p style="margin-top: 50px; border-top: 1px solid #000; display: inline-block; padding-top: 5px;">
                                            <span t-field="o.company_id.name"/>
                                        </p>
                                        <p>Authorized Signatory</p>
                                    </td>
                                    <td style="width: 50%; vertical-align: top; text-align: right;">
                                        <p><strong>PURCHASER</strong></p>
                                        <p style="margin-top: 50px; border-top: 1px solid #000; display: inline-block; padding-top: 5px;">
                                            <span t-field="o.partner_id.name"/>
                                        </p>
                                        <p>Signature</p>
                                    </td>
                                </tr>
                            </table>
                        </div>

                        <!-- Witnesses -->
                        <div style="margin-top: 40px; page-break-inside: avoid;">
                            <p style="margin-bottom: 15px;"><strong>WITNESSES:</strong></p>
                            <table style="width: 100%;">
                                <tr>
                                    <td style="width: 50%; vertical-align: top;">
                                        <p>1. ________________________</p>
                                        <p style="margin-top: 10px;">Name:</p>
                                        <p>Address:</p>
                                    </td>
                                    <td style="width: 50%; vertical-align: top;">
                                        <p>2. ________________________</p>
                                        <p style="margin-top: 10px;">Name:</p>
                                        <p>Address:</p>
                                    </td>
                                </tr>
                            </table>
                        </div>

                    </div>
                </t>
            </t>
        </t>
    </template>
</odoo>